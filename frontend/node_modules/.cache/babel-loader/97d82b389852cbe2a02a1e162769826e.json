{"ast":null,"code":"import _ from \"lodash\";\nexport const initialState = {\n  user: {\n    name: \"\",\n    username: \"\",\n    history: []\n  },\n  restaurant: {\n    name: \"\",\n    totalQueue: 0,\n    freeQueue: 0,\n    image: []\n  },\n  reservetion: {\n    name: \"\",\n    totalQueue: 0,\n    freeQueue: 0,\n    people: 0,\n    date: \"\",\n    time: \"\",\n    dateTime: null\n  },\n  restaurantList: [],\n  searchingList: [],\n  modalReservation: false\n};\nexport function RestaurantReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"FETCH_RESTAURANT\":\n      return { ...state,\n        restaurantList: action.payload,\n        searchingList: action.payload\n      };\n\n    case \"SEARCHING_NAME\":\n      state.searchingList = _.filter(state.restaurantList, elm => {\n        var _elm$name;\n\n        return (_elm$name = elm.name) === null || _elm$name === void 0 ? void 0 : _elm$name.includes(action.payload);\n      });\n      return { ...state\n      };\n\n    case \"MODAL_RESERVATION\":\n      return { ...state,\n        modalReservation: action.payload\n      };\n\n    case \"RESERVATION\":\n      state.reservetion.name = action.payload.name;\n      state.reservetion.totalQueue = action.payload.totalQueue;\n      state.reservetion.freeQueue = action.payload.freeQueue;\n      return { ...state\n      };\n\n    case \"INPUT_PEOPLE\":\n      state.reservetion.people = +action.payload;\n      return { ...state\n      };\n\n    case \"INPUT_DATETIME\":\n      console.log('action', new Date(action.payload)); // state.reservetion.dateTime = action.payload;\n      // state.reservetion.date = moment(action.payload).format(\"L\");\n      // state.reservetion.time = moment(action.payload).format(\"LT\");\n\n      return { ...state\n      };\n\n    case \"SAVE_RESERVATION\":\n      const objData = {\n        restaurantName: state.reservetion.name,\n        date: state.reservetion.date,\n        time: state.reservetion.time,\n        people: state.reservetion.people\n      };\n      state.user.history.push(objData);\n      state.modalReservation = false; // state.reservetion = {\n      // \tname: \"\",\n      // \ttotalQueue: 0,\n      // \tfreeQueue: 0,\n      // \tpeople: 0,\n      // \tdate: \"\",\n      // \ttime: \"\",\n      // \tdateTime: \"\",\n      // }\n\n      return { ...state\n      };\n\n    case \"RESET_RESERVATION\":\n      // state.reservetion = {\n      // \tname: \"\",\n      // \ttotalQueue: 0,\n      // \tfreeQueue: 0,\n      // \tpeople: 0,\n      // \tdate: \"\",\n      // \ttime: \"\",\n      // \tdateTime: \"\",\n      // };\n      return { ...state\n      };\n\n    default:\n      return state;\n  }\n}\n_c = RestaurantReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"RestaurantReducer\");","map":{"version":3,"sources":["/Users/dsmint/restaurantreservation/src/data/reducer.ts"],"names":["_","initialState","user","name","username","history","restaurant","totalQueue","freeQueue","image","reservetion","people","date","time","dateTime","restaurantList","searchingList","modalReservation","RestaurantReducer","state","action","type","payload","filter","elm","includes","console","log","Date","objData","restaurantName","push"],"mappings":"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","sourcesContent":["import RestaurantType from \"../typing/data\";\nimport RestaurantAction from \"./action\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nexport const initialState: RestaurantType.IRestaurantInitial = {\n\tuser: {\n\t\tname: \"\",\n\t\tusername: \"\",\n\t\thistory: [],\n\t},\n\trestaurant: {\n\t\tname: \"\",\n\t\ttotalQueue: 0,\n\t\tfreeQueue: 0,\n\t\timage: [],\n\t},\n\treservetion: {\n\t\tname: \"\",\n\t\ttotalQueue: 0,\n\t\tfreeQueue: 0,\n\t\tpeople: 0,\n\t\tdate: \"\",\n\t\ttime: \"\",\n\t\tdateTime: null,\n\t},\n\trestaurantList: [],\n\tsearchingList: [],\n\tmodalReservation: false,\n};\nexport function RestaurantReducer(\n\tstate = initialState,\n\taction: RestaurantAction.TRestaurantReduce\n) {\n\tswitch (action.type) {\n\t\tcase \"FETCH_RESTAURANT\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trestaurantList: action.payload,\n\t\t\t\tsearchingList: action.payload,\n\t\t\t};\n\t\tcase \"SEARCHING_NAME\":\n\t\t\tstate.searchingList = _.filter(state.restaurantList, (elm) =>\n\t\t\t\telm.name?.includes(action.payload)\n\t\t\t);\n\t\t\treturn { ...state };\n\t\tcase \"MODAL_RESERVATION\":\n\t\t\treturn { ...state, modalReservation: action.payload };\n\t\tcase \"RESERVATION\":\n\t\t\tstate.reservetion.name = action.payload.name;\n\t\t\tstate.reservetion.totalQueue = action.payload.totalQueue;\n\t\t\tstate.reservetion.freeQueue = action.payload.freeQueue;\n\t\t\treturn { ...state };\n\t\tcase \"INPUT_PEOPLE\":\n\t\t\tstate.reservetion.people = +action.payload;\n\t\t\treturn { ...state };\n\t\tcase \"INPUT_DATETIME\":\n\t\t\tconsole.log('action',new Date(action.payload));\n\t\t\t\n\t\t\t// state.reservetion.dateTime = action.payload;\n\t\t\t// state.reservetion.date = moment(action.payload).format(\"L\");\n\t\t\t// state.reservetion.time = moment(action.payload).format(\"LT\");\n\t\t\t\n\t\t\treturn { ...state };\n\t\tcase \"SAVE_RESERVATION\":\n\t\t\tconst objData = {\n\t\t\t\trestaurantName: state.reservetion.name,\n\t\t\t\tdate: state.reservetion.date,\n\t\t\t\ttime: state.reservetion.time,\n\t\t\t\tpeople: state.reservetion.people,\n\t\t\t};\n\t\t\tstate.user.history.push(objData);\n\t\t\tstate.modalReservation = false;\n\t\t\t// state.reservetion = {\n\t\t\t// \tname: \"\",\n\t\t\t// \ttotalQueue: 0,\n\t\t\t// \tfreeQueue: 0,\n\t\t\t// \tpeople: 0,\n\t\t\t// \tdate: \"\",\n\t\t\t// \ttime: \"\",\n\t\t\t// \tdateTime: \"\",\n\t\t\t// }\n\n\t\t\treturn { ...state };\n\t\tcase \"RESET_RESERVATION\":\n\t\t\t// state.reservetion = {\n\t\t\t// \tname: \"\",\n\t\t\t// \ttotalQueue: 0,\n\t\t\t// \tfreeQueue: 0,\n\t\t\t// \tpeople: 0,\n\t\t\t// \tdate: \"\",\n\t\t\t// \ttime: \"\",\n\t\t\t// \tdateTime: \"\",\n\t\t\t// };\n\t\t\treturn { ...state };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}