{"ast":null,"code":"import moment from \"moment\";\nimport _ from \"lodash\";\nconst booking = {\n  name: \"\",\n  totalQueue: 0,\n  freeQueue: 0,\n  people: 0,\n  date: \"\",\n  time: \"\",\n  dateTime: \"\"\n};\nexport const initialState = {\n  user: {\n    name: \"\",\n    username: \"\",\n    history: []\n  },\n  restaurant: {\n    name: \"\",\n    totalQueue: 0,\n    freeQueue: 0,\n    image: []\n  },\n  reservetion: booking,\n  restaurantList: [],\n  searchingList: [],\n  modalReservation: false\n};\nexport function RestaurantReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"FETCH_RESTAURANT\":\n      return { ...state,\n        restaurantList: action.payload,\n        searchingList: action.payload\n      };\n\n    case \"SEARCHING_NAME\":\n      state.searchingList = _.filter(state.restaurantList, elm => {\n        var _elm$name;\n\n        return (_elm$name = elm.name) === null || _elm$name === void 0 ? void 0 : _elm$name.includes(action.payload);\n      });\n      return { ...state\n      };\n\n    case \"MODAL_RESERVATION\":\n      return { ...state,\n        modalReservation: action.payload\n      };\n\n    case \"RESERVATION\":\n      state.reservetion.name = action.payload.name;\n      state.reservetion.totalQueue = action.payload.totalQueue;\n      state.reservetion.freeQueue = action.payload.freeQueue;\n      return { ...state\n      };\n\n    case \"INPUT_PEOPLE\":\n      state.reservetion.people = +action.payload;\n      return { ...state\n      };\n\n    case \"INPUT_DATETIME\":\n      state.reservetion.dateTime = action.payload;\n      state.reservetion.date = moment(action.payload).format(\"L\");\n      state.reservetion.time = moment(action.payload).format(\"LT\");\n      return { ...state\n      };\n\n    case \"SAVE_RESERVATION\":\n      const objData = {\n        restaurantName: state.reservetion.name,\n        date: state.reservetion.date,\n        time: state.reservetion.time,\n        people: state.reservetion.people\n      };\n      state.user.history.push(objData);\n      state.modalReservation = false;\n      state.reservetion = {\n        name: \"\",\n        totalQueue: 0,\n        freeQueue: 0,\n        people: 0,\n        date: \"\",\n        time: \"\",\n        dateTime: \"\"\n      };\n      console.log(\"props.restaurant\", state);\n      return { ...state\n      };\n\n    case \"RESET_RESERVATION\":\n      state.reservetion = booking;\n      return { ...state\n      };\n\n    default:\n      return state;\n  }\n}\n_c = RestaurantReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"RestaurantReducer\");","map":{"version":3,"sources":["/Users/dsmint/restaurantreservation/src/data/reducer.ts"],"names":["moment","_","booking","name","totalQueue","freeQueue","people","date","time","dateTime","initialState","user","username","history","restaurant","image","reservetion","restaurantList","searchingList","modalReservation","RestaurantReducer","state","action","type","payload","filter","elm","includes","format","objData","restaurantName","push","console","log"],"mappings":"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","sourcesContent":["import RestaurantType from \"../typing/data\";\nimport RestaurantAction from \"./action\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nconst booking = {\n\tname: \"\",\n\ttotalQueue: 0,\n\tfreeQueue: 0,\n\tpeople: 0,\n\tdate: \"\",\n\ttime: \"\",\n\tdateTime: \"\",\n};\nexport const initialState: RestaurantType.IRestaurantInitial = {\n\tuser: {\n\t\tname: \"\",\n\t\tusername: \"\",\n\t\thistory: [],\n\t},\n\trestaurant: {\n\t\tname: \"\",\n\t\ttotalQueue: 0,\n\t\tfreeQueue: 0,\n\t\timage: [],\n\t},\n\treservetion: booking,\n\trestaurantList: [],\n\tsearchingList: [],\n\tmodalReservation: false,\n};\nexport function RestaurantReducer(\n\tstate = initialState,\n\taction: RestaurantAction.TRestaurantReduce\n) {\n\tswitch (action.type) {\n\t\tcase \"FETCH_RESTAURANT\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trestaurantList: action.payload,\n\t\t\t\tsearchingList: action.payload,\n\t\t\t};\n\t\tcase \"SEARCHING_NAME\":\n\t\t\tstate.searchingList = _.filter(state.restaurantList, (elm) =>\n\t\t\t\telm.name?.includes(action.payload)\n\t\t\t);\n\t\t\treturn { ...state };\n\t\tcase \"MODAL_RESERVATION\":\n\t\t\treturn { ...state, modalReservation: action.payload };\n\t\tcase \"RESERVATION\":\n\t\t\tstate.reservetion.name = action.payload.name;\n\t\t\tstate.reservetion.totalQueue = action.payload.totalQueue;\n\t\t\tstate.reservetion.freeQueue = action.payload.freeQueue;\n\t\t\treturn { ...state };\n\t\tcase \"INPUT_PEOPLE\":\n\t\t\tstate.reservetion.people = +action.payload;\n\t\t\treturn { ...state };\n\t\tcase \"INPUT_DATETIME\":\n\t\t\tstate.reservetion.dateTime = action.payload;\n\t\t\tstate.reservetion.date = moment(action.payload).format(\"L\");\n\t\t\tstate.reservetion.time = moment(action.payload).format(\"LT\");\n\t\t\treturn { ...state };\n\t\tcase \"SAVE_RESERVATION\":\n\t\t\tconst objData = {\n\t\t\t\trestaurantName: state.reservetion.name,\n\t\t\t\tdate: state.reservetion.date,\n\t\t\t\ttime: state.reservetion.time,\n\t\t\t\tpeople: state.reservetion.people,\n\t\t\t};\n\t\t\tstate.user.history.push(objData);\n\t\t\tstate.modalReservation = false;\n\t\t\tstate.reservetion = {\n\t\t\t\tname: \"\",\n\t\t\t\ttotalQueue: 0,\n\t\t\t\tfreeQueue: 0,\n\t\t\t\tpeople: 0,\n\t\t\t\tdate: \"\",\n\t\t\t\ttime: \"\",\n\t\t\t\tdateTime: \"\",\n\t\t\t}\n\t\t\tconsole.log(\"props.restaurant\", state);\n\n\t\t\treturn { ...state };\n\t\tcase \"RESET_RESERVATION\":\n\t\t\tstate.reservetion = booking;\n\t\t\treturn { ...state };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}