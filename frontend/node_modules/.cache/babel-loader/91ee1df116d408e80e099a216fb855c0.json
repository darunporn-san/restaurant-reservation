{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { useCallback, useEffect, useRef } from 'react';\nimport { daysPerWeek, monthsPerYear } from '../constants';\nimport dateToString from '../utils/date-to-string';\nimport getDaysInMonth from '../utils/get-days-in-month';\n\nvar getNextMonth = function getNextMonth(monthValue, yearValue) {\n  var month = monthValue;\n  var year = yearValue;\n\n  if (month === monthsPerYear) {\n    month = 1;\n    year += 1;\n  } else {\n    month += 1;\n  }\n\n  return {\n    month: month,\n    year: year\n  };\n};\n\nvar getPrevMonth = function getPrevMonth(monthValue, yearValue) {\n  var month = monthValue;\n  var year = yearValue;\n\n  if (month === 1) {\n    month = monthsPerYear;\n    year -= 1;\n  } else {\n    month -= 1;\n  }\n\n  return {\n    month: month,\n    year: year\n  };\n};\n\nexport default function useHandleDateChange(_ref) {\n  var _ref$day = _slicedToArray(_ref.day, 2),\n      dayValue = _ref$day[0],\n      setDayValue = _ref$day[1],\n      _ref$month = _slicedToArray(_ref.month, 2),\n      monthValue = _ref$month[0],\n      setMonthValue = _ref$month[1],\n      _ref$year = _slicedToArray(_ref.year, 2),\n      yearValue = _ref$year[0],\n      setYearValue = _ref$year[1],\n      onChange = _ref.onChange;\n\n  var dateRef = useRef({\n    day: dayValue,\n    month: monthValue,\n    year: yearValue\n  });\n  useEffect(function () {\n    dateRef.current = {\n      day: dayValue,\n      month: monthValue,\n      year: yearValue\n    };\n  }, [dayValue, monthValue, yearValue]);\n  var triggerOnChange = useCallback(function (_ref2) {\n    var year = _ref2.year,\n        month = _ref2.month,\n        day = _ref2.day,\n        type = _ref2.type;\n    var iso = dateToString({\n      year: year,\n      month: month,\n      day: day\n    });\n    onChange({\n      day: day,\n      month: month,\n      year: year,\n      iso: iso,\n      type: type\n    });\n    setDayValue(day);\n    setMonthValue(month);\n    setYearValue(year);\n  }, [onChange, setDayValue, setMonthValue, setYearValue]);\n  var navigate = useCallback(function (type) {\n    var _dateRef$current = dateRef.current,\n        day = _dateRef$current.day,\n        month = _dateRef$current.month,\n        year = _dateRef$current.year;\n\n    if (type === 'down') {\n      var next = day + daysPerWeek;\n      var daysInMonth = getDaysInMonth(year, month - 1);\n\n      if (next > daysInMonth) {\n        var _getNextMonth = getNextMonth(month, year),\n            nextMonth = _getNextMonth.month,\n            nextYear = _getNextMonth.year;\n\n        triggerOnChange({\n          year: nextYear,\n          month: nextMonth,\n          day: next - daysInMonth,\n          type: type\n        });\n      } else {\n        triggerOnChange({\n          year: year,\n          month: month,\n          day: next,\n          type: type\n        });\n      }\n    } else if (type === 'left') {\n      var prev = day - 1;\n\n      if (prev < 1) {\n        var _getPrevMonth = getPrevMonth(month, year),\n            prevMonth = _getPrevMonth.month,\n            prevYear = _getPrevMonth.year;\n\n        var prevDay = getDaysInMonth(prevYear, prevMonth - 1);\n        triggerOnChange({\n          year: prevYear,\n          month: prevMonth,\n          day: prevDay,\n          type: type\n        });\n      } else {\n        triggerOnChange({\n          year: year,\n          month: month,\n          day: prev,\n          type: type\n        });\n      }\n    } else if (type === 'right') {\n      var _next = day + 1;\n\n      var _daysInMonth = getDaysInMonth(year, month - 1);\n\n      if (_next > _daysInMonth) {\n        var _getNextMonth2 = getNextMonth(month, year),\n            _nextMonth = _getNextMonth2.month,\n            _nextYear = _getNextMonth2.year;\n\n        triggerOnChange({\n          year: _nextYear,\n          month: _nextMonth,\n          day: 1,\n          type: type\n        });\n      } else {\n        triggerOnChange({\n          year: year,\n          month: month,\n          day: _next,\n          type: type\n        });\n      }\n    } else if (type === 'up') {\n      var _prev = day - daysPerWeek;\n\n      if (_prev < 1) {\n        var _getPrevMonth2 = getPrevMonth(month, year),\n            _prevMonth = _getPrevMonth2.month,\n            _prevYear = _getPrevMonth2.year;\n\n        var _prevDay = getDaysInMonth(_prevYear, _prevMonth - 1) + _prev;\n\n        triggerOnChange({\n          year: _prevYear,\n          month: _prevMonth,\n          day: _prevDay,\n          type: type\n        });\n      } else {\n        triggerOnChange({\n          year: year,\n          month: month,\n          day: _prev,\n          type: type\n        });\n      }\n    }\n  }, [triggerOnChange]);\n  var handleClickNext = useCallback(function () {\n    var _dateRef$current$getN = _objectSpread(_objectSpread({}, dateRef.current), getNextMonth(dateRef.current.month, dateRef.current.year)),\n        day = _dateRef$current$getN.day,\n        month = _dateRef$current$getN.month,\n        year = _dateRef$current$getN.year;\n\n    triggerOnChange({\n      day: day,\n      month: month,\n      year: year,\n      type: 'next'\n    });\n  }, [triggerOnChange]);\n  var handleClickPrev = useCallback(function () {\n    var _dateRef$current$getP = _objectSpread(_objectSpread({}, dateRef.current), getPrevMonth(dateRef.current.month, dateRef.current.year)),\n        day = _dateRef$current$getP.day,\n        month = _dateRef$current$getP.month,\n        year = _dateRef$current$getP.year;\n\n    triggerOnChange({\n      day: day,\n      month: month,\n      year: year,\n      type: 'prev'\n    });\n  }, [triggerOnChange]);\n  return {\n    navigate: navigate,\n    handleClickNext: handleClickNext,\n    handleClickPrev: handleClickPrev\n  };\n}","map":{"version":3,"sources":["/Users/dsmint/restaurantreservation/node_modules/@atlaskit/calendar/dist/esm/internal/hooks/use-handle-date-change.js"],"names":["_defineProperty","_slicedToArray","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","useCallback","useEffect","useRef","daysPerWeek","monthsPerYear","dateToString","getDaysInMonth","getNextMonth","monthValue","yearValue","month","year","getPrevMonth","useHandleDateChange","_ref","_ref$day","day","dayValue","setDayValue","_ref$month","setMonthValue","_ref$year","setYearValue","onChange","dateRef","current","triggerOnChange","_ref2","type","iso","navigate","_dateRef$current","next","daysInMonth","_getNextMonth","nextMonth","nextYear","prev","_getPrevMonth","prevMonth","prevYear","prevDay","_next","_daysInMonth","_getNextMonth2","_nextMonth","_nextYear","_prev","_getPrevMonth2","_prevMonth","_prevYear","_prevDay","handleClickNext","_dateRef$current$getN","handleClickPrev","_dateRef$current$getP"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useCallback, useEffect, useRef } from 'react';\nimport { daysPerWeek, monthsPerYear } from '../constants';\nimport dateToString from '../utils/date-to-string';\nimport getDaysInMonth from '../utils/get-days-in-month';\n\nvar getNextMonth = function getNextMonth(monthValue, yearValue) {\n  var month = monthValue;\n  var year = yearValue;\n\n  if (month === monthsPerYear) {\n    month = 1;\n    year += 1;\n  } else {\n    month += 1;\n  }\n\n  return {\n    month: month,\n    year: year\n  };\n};\n\nvar getPrevMonth = function getPrevMonth(monthValue, yearValue) {\n  var month = monthValue;\n  var year = yearValue;\n\n  if (month === 1) {\n    month = monthsPerYear;\n    year -= 1;\n  } else {\n    month -= 1;\n  }\n\n  return {\n    month: month,\n    year: year\n  };\n};\n\nexport default function useHandleDateChange(_ref) {\n  var _ref$day = _slicedToArray(_ref.day, 2),\n      dayValue = _ref$day[0],\n      setDayValue = _ref$day[1],\n      _ref$month = _slicedToArray(_ref.month, 2),\n      monthValue = _ref$month[0],\n      setMonthValue = _ref$month[1],\n      _ref$year = _slicedToArray(_ref.year, 2),\n      yearValue = _ref$year[0],\n      setYearValue = _ref$year[1],\n      onChange = _ref.onChange;\n\n  var dateRef = useRef({\n    day: dayValue,\n    month: monthValue,\n    year: yearValue\n  });\n  useEffect(function () {\n    dateRef.current = {\n      day: dayValue,\n      month: monthValue,\n      year: yearValue\n    };\n  }, [dayValue, monthValue, yearValue]);\n  var triggerOnChange = useCallback(function (_ref2) {\n    var year = _ref2.year,\n        month = _ref2.month,\n        day = _ref2.day,\n        type = _ref2.type;\n    var iso = dateToString({\n      year: year,\n      month: month,\n      day: day\n    });\n    onChange({\n      day: day,\n      month: month,\n      year: year,\n      iso: iso,\n      type: type\n    });\n    setDayValue(day);\n    setMonthValue(month);\n    setYearValue(year);\n  }, [onChange, setDayValue, setMonthValue, setYearValue]);\n  var navigate = useCallback(function (type) {\n    var _dateRef$current = dateRef.current,\n        day = _dateRef$current.day,\n        month = _dateRef$current.month,\n        year = _dateRef$current.year;\n\n    if (type === 'down') {\n      var next = day + daysPerWeek;\n      var daysInMonth = getDaysInMonth(year, month - 1);\n\n      if (next > daysInMonth) {\n        var _getNextMonth = getNextMonth(month, year),\n            nextMonth = _getNextMonth.month,\n            nextYear = _getNextMonth.year;\n\n        triggerOnChange({\n          year: nextYear,\n          month: nextMonth,\n          day: next - daysInMonth,\n          type: type\n        });\n      } else {\n        triggerOnChange({\n          year: year,\n          month: month,\n          day: next,\n          type: type\n        });\n      }\n    } else if (type === 'left') {\n      var prev = day - 1;\n\n      if (prev < 1) {\n        var _getPrevMonth = getPrevMonth(month, year),\n            prevMonth = _getPrevMonth.month,\n            prevYear = _getPrevMonth.year;\n\n        var prevDay = getDaysInMonth(prevYear, prevMonth - 1);\n        triggerOnChange({\n          year: prevYear,\n          month: prevMonth,\n          day: prevDay,\n          type: type\n        });\n      } else {\n        triggerOnChange({\n          year: year,\n          month: month,\n          day: prev,\n          type: type\n        });\n      }\n    } else if (type === 'right') {\n      var _next = day + 1;\n\n      var _daysInMonth = getDaysInMonth(year, month - 1);\n\n      if (_next > _daysInMonth) {\n        var _getNextMonth2 = getNextMonth(month, year),\n            _nextMonth = _getNextMonth2.month,\n            _nextYear = _getNextMonth2.year;\n\n        triggerOnChange({\n          year: _nextYear,\n          month: _nextMonth,\n          day: 1,\n          type: type\n        });\n      } else {\n        triggerOnChange({\n          year: year,\n          month: month,\n          day: _next,\n          type: type\n        });\n      }\n    } else if (type === 'up') {\n      var _prev = day - daysPerWeek;\n\n      if (_prev < 1) {\n        var _getPrevMonth2 = getPrevMonth(month, year),\n            _prevMonth = _getPrevMonth2.month,\n            _prevYear = _getPrevMonth2.year;\n\n        var _prevDay = getDaysInMonth(_prevYear, _prevMonth - 1) + _prev;\n\n        triggerOnChange({\n          year: _prevYear,\n          month: _prevMonth,\n          day: _prevDay,\n          type: type\n        });\n      } else {\n        triggerOnChange({\n          year: year,\n          month: month,\n          day: _prev,\n          type: type\n        });\n      }\n    }\n  }, [triggerOnChange]);\n  var handleClickNext = useCallback(function () {\n    var _dateRef$current$getN = _objectSpread(_objectSpread({}, dateRef.current), getNextMonth(dateRef.current.month, dateRef.current.year)),\n        day = _dateRef$current$getN.day,\n        month = _dateRef$current$getN.month,\n        year = _dateRef$current$getN.year;\n\n    triggerOnChange({\n      day: day,\n      month: month,\n      year: year,\n      type: 'next'\n    });\n  }, [triggerOnChange]);\n  var handleClickPrev = useCallback(function () {\n    var _dateRef$current$getP = _objectSpread(_objectSpread({}, dateRef.current), getPrevMonth(dateRef.current.month, dateRef.current.year)),\n        day = _dateRef$current$getP.day,\n        month = _dateRef$current$getP.month,\n        year = _dateRef$current$getP.year;\n\n    triggerOnChange({\n      day: day,\n      month: month,\n      year: year,\n      type: 'prev'\n    });\n  }, [triggerOnChange]);\n  return {\n    navigate: navigate,\n    handleClickNext: handleClickNext,\n    handleClickPrev: handleClickPrev\n  };\n}"]},"metadata":{},"sourceType":"module"}