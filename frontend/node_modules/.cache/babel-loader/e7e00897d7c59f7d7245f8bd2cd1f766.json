{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React from 'react'; // eslint-disable-next-line no-restricted-imports\n\nimport { format, isValid } from 'date-fns';\nimport pick from 'lodash/pick';\nimport { createAndFireEvent, withAnalyticsContext, withAnalyticsEvents } from '@atlaskit/analytics-next';\nimport { createLocalizationProvider } from '@atlaskit/locale';\nimport Select, { components, CreatableSelect, mergeStyles } from '@atlaskit/select';\nimport { B100 } from '@atlaskit/theme/colors';\nimport { gridSize } from '@atlaskit/theme/constants';\nimport { defaultTimeFormat, defaultTimes, DropdownIndicator, EmptyClearIndicator, placeholderDatetime } from '../internal';\nimport FixedLayer from '../internal/FixedLayer';\nimport parseTime from '../internal/parseTime';\nvar packageName = \"@atlaskit/datetime-picker\";\nvar packageVersion = \"10.2.1\";\nvar menuStyles = {\n  /* Need to remove default absolute positioning as that causes issues with position fixed */\n  position: 'static',\n\n  /* Need to add overflow to the element with max-height, otherwise causes overflow issues in IE11 */\n  overflowY: 'auto',\n\n  /* React-Popper has already offset the menu so we need to reset the margin, otherwise the offset value is doubled */\n  margin: 0\n};\n\nvar FixedLayerMenu = function FixedLayerMenu(_ref) {\n  var selectProps = _ref.selectProps,\n      rest = _objectWithoutProperties(_ref, [\"selectProps\"]);\n\n  return /*#__PURE__*/React.createElement(FixedLayer, {\n    inputValue: selectProps.inputValue,\n    containerRef: selectProps.fixedLayerRef,\n    content: /*#__PURE__*/React.createElement(components.Menu, _extends({}, rest, {\n      menuShouldScrollIntoView: false\n    })),\n    testId: selectProps.testId\n  });\n};\n\nvar timePickerDefaultProps = {\n  appearance: 'default',\n  autoFocus: false,\n  defaultIsOpen: false,\n  defaultValue: '',\n  hideIcon: false,\n  id: '',\n  innerProps: {},\n  isDisabled: false,\n  isInvalid: false,\n  name: '',\n  onBlur: function onBlur(event) {},\n  onChange: function onChange(value) {},\n  onFocus: function onFocus(event) {},\n  parseInputValue: function parseInputValue(time, timeFormat) {\n    return parseTime(time);\n  },\n  selectProps: {},\n  spacing: 'default',\n  times: defaultTimes,\n  timeIsEditable: false,\n  locale: 'en-US' // Not including a default prop for value as it will\n  // Make the component a controlled component\n\n};\n\nvar TimePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(TimePicker, _React$Component);\n\n  var _super = _createSuper(TimePicker);\n\n  function TimePicker() {\n    var _this;\n\n    _classCallCheck(this, TimePicker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"containerRef\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isOpen: _this.props.defaultIsOpen,\n      clearingFromIcon: false,\n      value: _this.props.defaultValue,\n      isFocused: false,\n      l10n: createLocalizationProvider(_this.props.locale)\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSafeState\", function () {\n      return _objectSpread(_objectSpread({}, _this.state), pick(_this.props, ['value', 'isOpen']));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (v, action) {\n      var value = v ? v.value : '';\n      var changedState = {\n        value: value\n      };\n\n      if (action && action.action === 'clear') {\n        changedState = _objectSpread(_objectSpread({}, changedState), {}, {\n          clearingFromIcon: true\n        });\n      }\n\n      _this.setState(changedState);\n\n      _this.props.onChange(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCreateOption\", function (inputValue) {\n      if (_this.props.timeIsEditable) {\n        var _this$props = _this.props,\n            parseInputValue = _this$props.parseInputValue,\n            _timeFormat = _this$props.timeFormat; // TODO parseInputValue doesn't accept `timeFormat` as an function arg yet...\n\n        var _value = format(parseInputValue(inputValue, _timeFormat || defaultTimeFormat), 'HH:mm') || '';\n\n        _this.setState({\n          value: _value\n        });\n\n        _this.props.onChange(_value);\n      } else {\n        _this.onChange(inputValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMenuOpen\", function () {\n      // Don't open menu after the user has clicked clear\n      if (_this.getSafeState().clearingFromIcon) {\n        _this.setState({\n          clearingFromIcon: false\n        });\n      } else {\n        _this.setState({\n          isOpen: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMenuClose\", function () {\n      // Don't close menu after the user has clicked clear\n      if (_this.getSafeState().clearingFromIcon) {\n        _this.setState({\n          clearingFromIcon: false\n        });\n      } else {\n        _this.setState({\n          isOpen: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setContainerRef\", function (ref) {\n      var oldRef = _this.containerRef;\n      _this.containerRef = ref; // Cause a re-render if we're getting the container ref for the first time\n      // as the layered menu requires it for dimension calculation\n\n      if (oldRef == null && ref != null) {\n        _this.forceUpdate();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      _this.setState({\n        isFocused: false\n      });\n\n      _this.props.onBlur(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      _this.setState({\n        isFocused: true\n      });\n\n      _this.props.onFocus(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectKeyDown\", function (event) {\n      var key = event.key;\n      var keyPressed = key.toLowerCase();\n\n      if (_this.getSafeState().clearingFromIcon && (keyPressed === 'backspace' || keyPressed === 'delete')) {\n        // If being cleared from keyboard, don't change behaviour\n        _this.setState({\n          clearingFromIcon: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSubtleControlStyles\", function (selectStyles) {\n      return !selectStyles.control ? {\n        border: \"2px solid \".concat(_this.getSafeState().isFocused ? \"\".concat(B100) : \"transparent\"),\n        backgroundColor: 'transparent',\n        padding: '1px'\n      } : {};\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatTime\", function (time) {\n      var _this$props2 = _this.props,\n          formatDisplayLabel = _this$props2.formatDisplayLabel,\n          timeFormat = _this$props2.timeFormat;\n\n      var _this$getSafeState = _this.getSafeState(),\n          l10n = _this$getSafeState.l10n;\n\n      if (formatDisplayLabel) {\n        return formatDisplayLabel(time, timeFormat || defaultTimeFormat);\n      }\n\n      var date = parseTime(time);\n\n      if (!(date instanceof Date)) {\n        return '';\n      }\n\n      if (!isValid(date)) {\n        return time;\n      }\n\n      if (timeFormat) {\n        return format(date, timeFormat);\n      }\n\n      return l10n.formatTime(date);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlaceholder\", function () {\n      var placeholder = _this.props.placeholder;\n\n      if (placeholder) {\n        return placeholder;\n      }\n\n      var _this$getSafeState2 = _this.getSafeState(),\n          l10n = _this$getSafeState2.l10n;\n\n      return l10n.formatTime(placeholderDatetime);\n    });\n\n    return _this;\n  }\n\n  _createClass(TimePicker, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.locale !== nextProps.locale) {\n        this.setState({\n          l10n: createLocalizationProvider(nextProps.locale)\n        });\n      }\n    } // All state needs to be accessed via this function so that the state is mapped from props\n    // correctly to allow controlled/uncontrolled usage.\n\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      var _this2 = this;\n\n      return this.props.times.map(function (time) {\n        return {\n          label: _this2.formatTime(time),\n          value: time\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props3 = this.props,\n          autoFocus = _this$props3.autoFocus,\n          hideIcon = _this$props3.hideIcon,\n          id = _this$props3.id,\n          innerProps = _this$props3.innerProps,\n          isDisabled = _this$props3.isDisabled,\n          name = _this$props3.name,\n          selectProps = _this$props3.selectProps,\n          spacing = _this$props3.spacing,\n          testId = _this$props3.testId;\n      var ICON_PADDING = 2;\n      var BORDER_WIDTH = 2;\n\n      var _this$getSafeState3 = this.getSafeState(),\n          _this$getSafeState3$v = _this$getSafeState3.value,\n          value = _this$getSafeState3$v === void 0 ? '' : _this$getSafeState3$v,\n          isOpen = _this$getSafeState3.isOpen;\n\n      var validationState = this.props.isInvalid ? 'error' : 'default';\n\n      var _selectProps$styles = selectProps.styles,\n          selectStyles = _selectProps$styles === void 0 ? {} : _selectProps$styles,\n          otherSelectProps = _objectWithoutProperties(selectProps, [\"styles\"]);\n\n      var controlStyles = this.props.appearance === 'subtle' ? this.getSubtleControlStyles(selectStyles) : {};\n      var SelectComponent = this.props.timeIsEditable ? CreatableSelect : Select;\n      var labelAndValue = value && {\n        label: this.formatTime(value),\n        value: value\n      };\n      var selectComponents = {\n        DropdownIndicator: DropdownIndicator,\n        Menu: FixedLayerMenu\n      };\n\n      if (hideIcon) {\n        selectComponents.ClearIndicator = EmptyClearIndicator;\n      }\n\n      var renderIconContainer = Boolean(hideIcon && value);\n      var mergedStyles = mergeStyles(selectStyles, {\n        control: function control(base) {\n          return _objectSpread(_objectSpread({}, base), controlStyles);\n        },\n        menu: function menu(base) {\n          return _objectSpread(_objectSpread(_objectSpread({}, base), menuStyles), {\n            // Fixed positioned elements no longer inherit width from their parent, so we must explicitly set the\n            // menu width to the width of our container\n            width: _this3.containerRef ? _this3.containerRef.getBoundingClientRect().width : 'auto'\n          });\n        },\n        indicatorsContainer: function indicatorsContainer(base) {\n          return _objectSpread(_objectSpread({}, base), {}, {\n            paddingLeft: renderIconContainer ? ICON_PADDING : 0,\n            paddingRight: renderIconContainer ? gridSize() - BORDER_WIDTH : 0\n          });\n        }\n      });\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        React.createElement(\"div\", _extends({}, innerProps, {\n          ref: this.setContainerRef,\n          \"data-testid\": testId && \"\".concat(testId, \"--container\"),\n          onKeyDown: this.onSelectKeyDown\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          name: name,\n          type: \"hidden\",\n          value: value\n        }), /*#__PURE__*/React.createElement(SelectComponent, _extends({\n          autoFocus: autoFocus,\n          components: selectComponents,\n          instanceId: id,\n          isClearable: true,\n          isDisabled: isDisabled,\n          menuIsOpen: isOpen && !isDisabled,\n          menuPlacement: \"auto\",\n          openMenuOnFocus: true,\n          onBlur: this.onBlur,\n          onCreateOption: this.onCreateOption,\n          onChange: this.onChange,\n          options: this.getOptions(),\n          onFocus: this.onFocus,\n          onMenuOpen: this.onMenuOpen,\n          onMenuClose: this.onMenuClose,\n          placeholder: this.getPlaceholder(),\n          styles: mergedStyles,\n          value: labelAndValue,\n          spacing: spacing,\n          fixedLayerRef: this.containerRef,\n          validationState: validationState,\n          testId: testId\n        }, otherSelectProps)))\n      );\n    }\n  }]);\n\n  return TimePicker;\n}(React.Component);\n\n_defineProperty(TimePicker, \"defaultProps\", timePickerDefaultProps);\n\nexport { TimePicker as TimePickerWithoutAnalytics };\nexport default withAnalyticsContext({\n  componentName: 'timePicker',\n  packageName: packageName,\n  packageVersion: packageVersion\n})(withAnalyticsEvents({\n  onChange: createAndFireEvent('atlaskit')({\n    action: 'selectedTime',\n    actionSubject: 'timePicker',\n    attributes: {\n      componentName: 'timePicker',\n      packageName: packageName,\n      packageVersion: packageVersion\n    }\n  })\n})(TimePicker));","map":{"version":3,"sources":["/Users/dsmint/restaurantreservation/node_modules/@atlaskit/datetime-picker/dist/esm/components/TimePicker.js"],"names":["_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_extends","_objectWithoutProperties","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","React","format","isValid","pick","createAndFireEvent","withAnalyticsContext","withAnalyticsEvents","createLocalizationProvider","Select","components","CreatableSelect","mergeStyles","B100","gridSize","defaultTimeFormat","defaultTimes","DropdownIndicator","EmptyClearIndicator","placeholderDatetime","FixedLayer","parseTime","packageName","packageVersion","menuStyles","position","overflowY","margin","FixedLayerMenu","_ref","selectProps","rest","createElement","inputValue","containerRef","fixedLayerRef","content","Menu","menuShouldScrollIntoView","testId","timePickerDefaultProps","appearance","autoFocus","defaultIsOpen","defaultValue","hideIcon","id","innerProps","isDisabled","isInvalid","name","onBlur","event","onChange","value","onFocus","parseInputValue","time","timeFormat","spacing","times","timeIsEditable","locale","TimePicker","_React$Component","_super","_this","_len","args","Array","_key","concat","isOpen","props","clearingFromIcon","isFocused","l10n","state","v","action","changedState","setState","_this$props","_timeFormat","_value","getSafeState","ref","oldRef","forceUpdate","keyPressed","toLowerCase","selectStyles","control","border","backgroundColor","padding","_this$props2","formatDisplayLabel","_this$getSafeState","date","Date","formatTime","placeholder","_this$getSafeState2","componentWillReceiveProps","nextProps","getOptions","_this2","map","label","render","_this3","_this$props3","ICON_PADDING","BORDER_WIDTH","_this$getSafeState3","_this$getSafeState3$v","validationState","_selectProps$styles","styles","otherSelectProps","controlStyles","getSubtleControlStyles","SelectComponent","labelAndValue","selectComponents","ClearIndicator","renderIconContainer","mergedStyles","base","menu","width","getBoundingClientRect","indicatorsContainer","paddingLeft","paddingRight","setContainerRef","onKeyDown","onSelectKeyDown","type","instanceId","isClearable","menuIsOpen","menuPlacement","openMenuOnFocus","onCreateOption","options","onMenuOpen","onMenuClose","getPlaceholder","Component","TimePickerWithoutAnalytics","componentName","actionSubject","attributes"],"mappings":"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","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react'; // eslint-disable-next-line no-restricted-imports\n\nimport { format, isValid } from 'date-fns';\nimport pick from 'lodash/pick';\nimport { createAndFireEvent, withAnalyticsContext, withAnalyticsEvents } from '@atlaskit/analytics-next';\nimport { createLocalizationProvider } from '@atlaskit/locale';\nimport Select, { components, CreatableSelect, mergeStyles } from '@atlaskit/select';\nimport { B100 } from '@atlaskit/theme/colors';\nimport { gridSize } from '@atlaskit/theme/constants';\nimport { defaultTimeFormat, defaultTimes, DropdownIndicator, EmptyClearIndicator, placeholderDatetime } from '../internal';\nimport FixedLayer from '../internal/FixedLayer';\nimport parseTime from '../internal/parseTime';\nvar packageName = \"@atlaskit/datetime-picker\";\nvar packageVersion = \"10.2.1\";\nvar menuStyles = {\n  /* Need to remove default absolute positioning as that causes issues with position fixed */\n  position: 'static',\n\n  /* Need to add overflow to the element with max-height, otherwise causes overflow issues in IE11 */\n  overflowY: 'auto',\n\n  /* React-Popper has already offset the menu so we need to reset the margin, otherwise the offset value is doubled */\n  margin: 0\n};\n\nvar FixedLayerMenu = function FixedLayerMenu(_ref) {\n  var selectProps = _ref.selectProps,\n      rest = _objectWithoutProperties(_ref, [\"selectProps\"]);\n\n  return /*#__PURE__*/React.createElement(FixedLayer, {\n    inputValue: selectProps.inputValue,\n    containerRef: selectProps.fixedLayerRef,\n    content: /*#__PURE__*/React.createElement(components.Menu, _extends({}, rest, {\n      menuShouldScrollIntoView: false\n    })),\n    testId: selectProps.testId\n  });\n};\n\nvar timePickerDefaultProps = {\n  appearance: 'default',\n  autoFocus: false,\n  defaultIsOpen: false,\n  defaultValue: '',\n  hideIcon: false,\n  id: '',\n  innerProps: {},\n  isDisabled: false,\n  isInvalid: false,\n  name: '',\n  onBlur: function onBlur(event) {},\n  onChange: function onChange(value) {},\n  onFocus: function onFocus(event) {},\n  parseInputValue: function parseInputValue(time, timeFormat) {\n    return parseTime(time);\n  },\n  selectProps: {},\n  spacing: 'default',\n  times: defaultTimes,\n  timeIsEditable: false,\n  locale: 'en-US' // Not including a default prop for value as it will\n  // Make the component a controlled component\n\n};\n\nvar TimePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(TimePicker, _React$Component);\n\n  var _super = _createSuper(TimePicker);\n\n  function TimePicker() {\n    var _this;\n\n    _classCallCheck(this, TimePicker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"containerRef\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isOpen: _this.props.defaultIsOpen,\n      clearingFromIcon: false,\n      value: _this.props.defaultValue,\n      isFocused: false,\n      l10n: createLocalizationProvider(_this.props.locale)\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSafeState\", function () {\n      return _objectSpread(_objectSpread({}, _this.state), pick(_this.props, ['value', 'isOpen']));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (v, action) {\n      var value = v ? v.value : '';\n      var changedState = {\n        value: value\n      };\n\n      if (action && action.action === 'clear') {\n        changedState = _objectSpread(_objectSpread({}, changedState), {}, {\n          clearingFromIcon: true\n        });\n      }\n\n      _this.setState(changedState);\n\n      _this.props.onChange(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCreateOption\", function (inputValue) {\n      if (_this.props.timeIsEditable) {\n        var _this$props = _this.props,\n            parseInputValue = _this$props.parseInputValue,\n            _timeFormat = _this$props.timeFormat; // TODO parseInputValue doesn't accept `timeFormat` as an function arg yet...\n\n        var _value = format(parseInputValue(inputValue, _timeFormat || defaultTimeFormat), 'HH:mm') || '';\n\n        _this.setState({\n          value: _value\n        });\n\n        _this.props.onChange(_value);\n      } else {\n        _this.onChange(inputValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMenuOpen\", function () {\n      // Don't open menu after the user has clicked clear\n      if (_this.getSafeState().clearingFromIcon) {\n        _this.setState({\n          clearingFromIcon: false\n        });\n      } else {\n        _this.setState({\n          isOpen: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMenuClose\", function () {\n      // Don't close menu after the user has clicked clear\n      if (_this.getSafeState().clearingFromIcon) {\n        _this.setState({\n          clearingFromIcon: false\n        });\n      } else {\n        _this.setState({\n          isOpen: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setContainerRef\", function (ref) {\n      var oldRef = _this.containerRef;\n      _this.containerRef = ref; // Cause a re-render if we're getting the container ref for the first time\n      // as the layered menu requires it for dimension calculation\n\n      if (oldRef == null && ref != null) {\n        _this.forceUpdate();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      _this.setState({\n        isFocused: false\n      });\n\n      _this.props.onBlur(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      _this.setState({\n        isFocused: true\n      });\n\n      _this.props.onFocus(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectKeyDown\", function (event) {\n      var key = event.key;\n      var keyPressed = key.toLowerCase();\n\n      if (_this.getSafeState().clearingFromIcon && (keyPressed === 'backspace' || keyPressed === 'delete')) {\n        // If being cleared from keyboard, don't change behaviour\n        _this.setState({\n          clearingFromIcon: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSubtleControlStyles\", function (selectStyles) {\n      return !selectStyles.control ? {\n        border: \"2px solid \".concat(_this.getSafeState().isFocused ? \"\".concat(B100) : \"transparent\"),\n        backgroundColor: 'transparent',\n        padding: '1px'\n      } : {};\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatTime\", function (time) {\n      var _this$props2 = _this.props,\n          formatDisplayLabel = _this$props2.formatDisplayLabel,\n          timeFormat = _this$props2.timeFormat;\n\n      var _this$getSafeState = _this.getSafeState(),\n          l10n = _this$getSafeState.l10n;\n\n      if (formatDisplayLabel) {\n        return formatDisplayLabel(time, timeFormat || defaultTimeFormat);\n      }\n\n      var date = parseTime(time);\n\n      if (!(date instanceof Date)) {\n        return '';\n      }\n\n      if (!isValid(date)) {\n        return time;\n      }\n\n      if (timeFormat) {\n        return format(date, timeFormat);\n      }\n\n      return l10n.formatTime(date);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlaceholder\", function () {\n      var placeholder = _this.props.placeholder;\n\n      if (placeholder) {\n        return placeholder;\n      }\n\n      var _this$getSafeState2 = _this.getSafeState(),\n          l10n = _this$getSafeState2.l10n;\n\n      return l10n.formatTime(placeholderDatetime);\n    });\n\n    return _this;\n  }\n\n  _createClass(TimePicker, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.locale !== nextProps.locale) {\n        this.setState({\n          l10n: createLocalizationProvider(nextProps.locale)\n        });\n      }\n    } // All state needs to be accessed via this function so that the state is mapped from props\n    // correctly to allow controlled/uncontrolled usage.\n\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      var _this2 = this;\n\n      return this.props.times.map(function (time) {\n        return {\n          label: _this2.formatTime(time),\n          value: time\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props3 = this.props,\n          autoFocus = _this$props3.autoFocus,\n          hideIcon = _this$props3.hideIcon,\n          id = _this$props3.id,\n          innerProps = _this$props3.innerProps,\n          isDisabled = _this$props3.isDisabled,\n          name = _this$props3.name,\n          selectProps = _this$props3.selectProps,\n          spacing = _this$props3.spacing,\n          testId = _this$props3.testId;\n      var ICON_PADDING = 2;\n      var BORDER_WIDTH = 2;\n\n      var _this$getSafeState3 = this.getSafeState(),\n          _this$getSafeState3$v = _this$getSafeState3.value,\n          value = _this$getSafeState3$v === void 0 ? '' : _this$getSafeState3$v,\n          isOpen = _this$getSafeState3.isOpen;\n\n      var validationState = this.props.isInvalid ? 'error' : 'default';\n\n      var _selectProps$styles = selectProps.styles,\n          selectStyles = _selectProps$styles === void 0 ? {} : _selectProps$styles,\n          otherSelectProps = _objectWithoutProperties(selectProps, [\"styles\"]);\n\n      var controlStyles = this.props.appearance === 'subtle' ? this.getSubtleControlStyles(selectStyles) : {};\n      var SelectComponent = this.props.timeIsEditable ? CreatableSelect : Select;\n      var labelAndValue = value && {\n        label: this.formatTime(value),\n        value: value\n      };\n      var selectComponents = {\n        DropdownIndicator: DropdownIndicator,\n        Menu: FixedLayerMenu\n      };\n\n      if (hideIcon) {\n        selectComponents.ClearIndicator = EmptyClearIndicator;\n      }\n\n      var renderIconContainer = Boolean(hideIcon && value);\n      var mergedStyles = mergeStyles(selectStyles, {\n        control: function control(base) {\n          return _objectSpread(_objectSpread({}, base), controlStyles);\n        },\n        menu: function menu(base) {\n          return _objectSpread(_objectSpread(_objectSpread({}, base), menuStyles), {\n            // Fixed positioned elements no longer inherit width from their parent, so we must explicitly set the\n            // menu width to the width of our container\n            width: _this3.containerRef ? _this3.containerRef.getBoundingClientRect().width : 'auto'\n          });\n        },\n        indicatorsContainer: function indicatorsContainer(base) {\n          return _objectSpread(_objectSpread({}, base), {}, {\n            paddingLeft: renderIconContainer ? ICON_PADDING : 0,\n            paddingRight: renderIconContainer ? gridSize() - BORDER_WIDTH : 0\n          });\n        }\n      });\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        React.createElement(\"div\", _extends({}, innerProps, {\n          ref: this.setContainerRef,\n          \"data-testid\": testId && \"\".concat(testId, \"--container\"),\n          onKeyDown: this.onSelectKeyDown\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          name: name,\n          type: \"hidden\",\n          value: value\n        }), /*#__PURE__*/React.createElement(SelectComponent, _extends({\n          autoFocus: autoFocus,\n          components: selectComponents,\n          instanceId: id,\n          isClearable: true,\n          isDisabled: isDisabled,\n          menuIsOpen: isOpen && !isDisabled,\n          menuPlacement: \"auto\",\n          openMenuOnFocus: true,\n          onBlur: this.onBlur,\n          onCreateOption: this.onCreateOption,\n          onChange: this.onChange,\n          options: this.getOptions(),\n          onFocus: this.onFocus,\n          onMenuOpen: this.onMenuOpen,\n          onMenuClose: this.onMenuClose,\n          placeholder: this.getPlaceholder(),\n          styles: mergedStyles,\n          value: labelAndValue,\n          spacing: spacing,\n          fixedLayerRef: this.containerRef,\n          validationState: validationState,\n          testId: testId\n        }, otherSelectProps)))\n      );\n    }\n  }]);\n\n  return TimePicker;\n}(React.Component);\n\n_defineProperty(TimePicker, \"defaultProps\", timePickerDefaultProps);\n\nexport { TimePicker as TimePickerWithoutAnalytics };\nexport default withAnalyticsContext({\n  componentName: 'timePicker',\n  packageName: packageName,\n  packageVersion: packageVersion\n})(withAnalyticsEvents({\n  onChange: createAndFireEvent('atlaskit')({\n    action: 'selectedTime',\n    actionSubject: 'timePicker',\n    attributes: {\n      componentName: 'timePicker',\n      packageName: packageName,\n      packageVersion: packageVersion\n    }\n  })\n})(TimePicker));"]},"metadata":{},"sourceType":"module"}